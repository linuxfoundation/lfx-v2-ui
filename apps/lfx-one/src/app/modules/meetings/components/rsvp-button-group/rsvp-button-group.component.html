<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

<!-- RSVP Container -->
<div
  [ngClass]="{
    'bg-blue-50 border border-blue-300': selectedResponse() === null && !disabled(),
    'bg-gray-200/50': selectedResponse() !== null || disabled(),
  }"
  class="rounded-[6px] p-[12px] space-y-2 flex-1"
  [attr.data-testid]="'meeting-rsvp-container'">
  <!-- Header -->
  <div
    [ngClass]="{
      'text-blue-600': selectedResponse() === null && !disabled(),
      'text-gray-500': selectedResponse() !== null || disabled(),
    }"
    class="flex items-center gap-[7px]"
    [attr.data-testid]="'meeting-rsvp-header'">
    <i class="fa-light fa-users text-[10.5px]"></i>
    <span class="text-[10.5px] tracking-[0.0923px] leading-[14px]">RSVP</span>
  </div>

  @if (disabled()) {
    <!-- Disabled Message -->
    <div class="flex items-center justify-center py-1" [attr.data-testid]="'meeting-rsvp-disabled-message'">
      <span class="text-[10.5px] tracking-[0.0923px] leading-[14px] text-gray-500">{{ disabledMessage() }}</span>
    </div>
  } @else {
    <!-- RSVP Buttons -->
    <div class="flex gap-[7px]" [attr.data-testid]="'meeting-rsvp-buttons'">
      <!-- Yes Button -->
      <button
        (click)="handleRsvpClick('accepted')"
        [disabled]="isLoading()"
        [ngClass]="{
          'bg-blue-500 border-blue-500 text-white': selectedResponse() === 'accepted',
          'bg-white border-blue-500 text-blue-700 hover:bg-blue-50': selectedResponse() !== 'accepted',
        }"
        class="flex-1 inline-flex items-center justify-center gap-[3.5px] px-[7px] py-[5.25px] rounded-[3.5px] h-[28px] border transition-colors"
        [attr.data-testid]="'meeting-rsvp-button-yes'">
        <i class="fa-light fa-circle-check text-[14px]"></i>
        <span class="text-[10.5px] tracking-[0.0923px] leading-[14px]">Yes</span>
      </button>

      <!-- No Button -->
      <button
        (click)="handleRsvpClick('declined')"
        [disabled]="isLoading()"
        [ngClass]="{
          'bg-red-500 border-red-500 text-white': selectedResponse() === 'declined',
          'bg-white border-red-500 text-red-700 hover:bg-red-50': selectedResponse() !== 'declined',
        }"
        class="flex-1 inline-flex items-center justify-center gap-[3.5px] px-[7px] py-[5.25px] rounded-[3.5px] h-[28px] border transition-colors"
        [attr.data-testid]="'meeting-rsvp-button-no'">
        <i class="fa-light fa-circle-xmark text-[14px]"></i>
        <span class="text-[10.5px] tracking-[0.0923px] leading-[14px]">No</span>
      </button>

      <!-- Maybe Button -->
      <button
        (click)="handleRsvpClick('maybe')"
        [disabled]="isLoading()"
        [ngClass]="{
          'bg-amber-500 border-amber-500 text-white': selectedResponse() === 'maybe',
          'bg-white border-amber-500 text-amber-700 hover:bg-amber-50': selectedResponse() !== 'maybe',
        }"
        class="flex-1 inline-flex items-center justify-center gap-[3.5px] px-[7px] py-[5.25px] rounded-[3.5px] h-[28px] border transition-colors"
        [attr.data-testid]="'meeting-rsvp-button-maybe'">
        <i class="fa-light fa-circle-question text-[14px]"></i>
        <span class="text-[10.5px] tracking-[0.0923px] leading-[14px]">Maybe</span>
      </button>
    </div>
  }
</div>
