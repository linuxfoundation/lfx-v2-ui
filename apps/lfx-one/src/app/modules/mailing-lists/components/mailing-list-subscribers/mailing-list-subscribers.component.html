<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

<lfx-card data-testid="mailing-list-subscribers-card">
  <div class="flex items-center justify-between mb-4">
    <h3 class="text-sm font-medium">Subscribers</h3>
    <lfx-button
      icon="fa-light fa-user-plus"
      label="Add Subscriber"
      size="small"
      severity="secondary"
      [outlined]="true"
      [disabled]="true"
      data-testid="mailing-list-add-subscriber-button">
    </lfx-button>
  </div>

  <lfx-table
    [value]="subscribers"
    [paginator]="subscribers.length > 10"
    [rows]="10"
    [rowsPerPageOptions]="[10, 25, 50]"
    sortField="name"
    [sortOrder]="1"
    data-testid="mailing-list-subscribers-table">
    <!-- Header Template -->
    <ng-template #header>
      <tr>
        <th>Name</th>
        <th>Title</th>
        <th>Organization</th>
        <th>Email</th>
        <th>Delivery Mode</th>
        <th>Role</th>
        <th></th>
      </tr>
    </ng-template>

    <!-- Body Template -->
    <ng-template #body let-subscriber>
      <tr [attr.data-testid]="'subscriber-row-' + subscriber.uid">
        <td>{{ subscriber.name }}</td>
        <td>{{ subscriber.title || '-' }}</td>
        <td>{{ subscriber.organization || '-' }}</td>
        <td>{{ subscriber.email }}</td>
        <td>{{ subscriber.deliveryMode }}</td>
        <td>{{ subscriber.role }}</td>
        <td>
          <lfx-button
            icon="fa-light fa-ellipsis-vertical"
            severity="secondary"
            size="small"
            [text]="true"
            styleClass="h-8 w-8 text-gray-500 hover:text-gray-700 hover:bg-gray-100"
            [attr.data-testid]="'subscriber-actions-' + subscriber.uid">
          </lfx-button>
        </td>
      </tr>
    </ng-template>

    <!-- Empty Message Template -->
    <ng-template #emptymessage>
      <tr>
        <td colspan="7" class="text-center py-8">
          <i class="fa-light fa-users text-3xl text-gray-300 mb-2 block"></i>
          <p class="text-sm text-gray-500">No subscribers yet</p>
          <p class="text-xs text-gray-400 mt-1">Subscribers will appear here once the API integration is complete</p>
        </td>
      </tr>
    </ng-template>
  </lfx-table>
</lfx-card>
