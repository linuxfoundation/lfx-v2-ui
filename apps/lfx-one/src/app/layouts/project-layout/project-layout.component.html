<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

<div class="bg-white border-b border-gray-100 py-6 shadow-sm min-h-60">
  <div class="container mx-auto px-8">
    <!-- Breadcrumb Navigation -->
    <div class="mb-4">
      <lfx-breadcrumb [model]="breadcrumbItems()">
        <ng-template #item let-item>
          <a [routerLink]="item.routerLink" class="flex items-center gap-2 text-sm font-medium text-gray-900 hover:text-gray-600 transition-colors">
            @if (item.icon) {
              <i [class]="item.icon" class="text-gray-500"></i>
            }
            {{ item.label }}
          </a>
        </ng-template>
      </lfx-breadcrumb>
    </div>

    <div class="flex flex-col md:flex-row md:items-center justify-between">
      <div class="flex flex-col items-start gap-3">
        <!-- Category Badge -->
        @if (categoryLabel(); as category) {
          <div class="flex justify-start">
            <img [src]="projectLogo()" class="h-10 w-full" />
          </div>
        }

        <!-- Project Title -->
        <h1 class="text-2xl font-display font-semibold text-gray-900 mb-3">
          {{ projectTitle() }}
        </h1>

        <!-- Project Description -->
        @if (projectDescription(); as description) {
          <p class="text-gray-600 text-sm mb-6 max-w-3xl leading-relaxed">
            {{ description }}
          </p>
        }
      </div>
    </div>

    <!-- Menu Items Section -->
    <div class="md:flex items-center justify-start md:justify-between">
      <div class="flex items-center gap-3 flex-wrap">
        @for (menu of menuItems(); track menu.label) {
          <a
            [routerLink]="menu.routerLink"
            class="pill"
            routerLinkActive="bg-blue-50 text-blue-600 border-0"
            data-testid="menu-item"
            [routerLinkActiveOptions]="menu.routerLinkActiveOptions">
            @if (menu.icon) {
              <i [class]="menu.icon"></i>
            }
            {{ menu.label }}
          </a>
        }
        @if (hasWriterAccess()) {
          <div class="flex md:hidden">
            <a
              routerLink="/project/{{ projectSlug() }}/settings"
              class="pill"
              routerLinkActive="bg-blue-50 text-blue-600 border-0 block md:hidden"
              data-testid="mobile-menu-item"
              [routerLinkActiveOptions]="{ exact: true }">
              <i class="fa-light fa-gear"></i>
              <span>Settings</span>
            </a>
          </div>
        }
      </div>
      @if (hasWriterAccess()) {
        <div class="items-center gap-3 hidden md:flex">
          <a
            routerLink="/project/{{ projectSlug() }}/settings"
            class="pill"
            routerLinkActive="bg-blue-50 text-blue-600 border-0"
            data-testid="menu-item"
            [routerLinkActiveOptions]="{ exact: true }">
            <i class="fa-light fa-gear"></i>
            <span>Settings</span>
          </a>
        </div>
      }
    </div>
  </div>
</div>
@if (project()) {
  <router-outlet></router-outlet>
}
