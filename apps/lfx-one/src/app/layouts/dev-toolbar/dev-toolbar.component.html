<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

@if (showDevToolbar()) {
  <div class="fixed top-0 left-0 right-0 z-50 bg-gray-900 text-white px-4 py-2" data-testid="dev-tools-bar">
    <div class="flex items-center gap-4 max-w-full">
      <!-- Persona Selector (left side) -->
      <div class="flex items-center gap-2" data-testid="dev-tools-bar-persona">
        <lfx-select-button
          [form]="form"
          control="persona"
          [options]="personaOptions"
          optionLabel="label"
          optionValue="value"
          size="small"
          styleClass="dev-tools-select-button"
          data-testid="dev-tools-bar-persona-selector">
        </lfx-select-button>
      </div>

      <!-- Organization Selector (only visible on board dashboard) -->
      @if (showOrganizationSelector() && isOnBoardDashboard()) {
        <div class="flex items-center gap-2" data-testid="dev-tools-bar-organization">
          <label for="organization-select" class="text-sm">Organization:</label>
          <lfx-select
            [form]="form"
            control="selectedAccountId"
            [options]="availableAccounts"
            optionLabel="accountName"
            optionValue="accountId"
            [filter]="true"
            filterPlaceholder="Search organizations..."
            placeholder="Select an organization"
            [showClear]="false"
            styleClass="min-w-[250px] dev-tools-select"
            inputId="organization-select"
            data-testid="dev-tools-bar-organization-select" />
        </div>
      }

      <!-- Spacer -->
      <div class="flex-1"></div>

      <lfx-button
        icon="fa-solid fa-trash-can"
        label="Clear Cache"
        severity="secondary"
        size="small"
        [text]="true"
        styleClass="!text-gray-300 hover:!text-white hover:!bg-gray-800"
        (onClick)="clearCache()"
        data-testid="dev-tools-bar-clear-cache">
      </lfx-button>
    </div>
  </div>
}
