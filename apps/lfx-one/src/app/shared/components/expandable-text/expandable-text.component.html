<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

<div>
  <div
    #contentElement
    class="expandable-content text-base text-gray-600 overflow-hidden transition-all duration-300 ease-in-out break-words relative whitespace-pre-wrap"
    [class.expanded]="isExpanded()"
    [class.collapsed]="!isExpanded() && needsExpansion()"
    [style.height]="getContentHeight()"
    data-testid="expandable-content">
    <ng-content></ng-content>
  </div>

  @if (needsExpansion() && isInitialized()) {
    <div>
      @if (isExpanded()) {
        <button
          type="button"
          class="text-sm text-primary hover:text-primary-600 hover:underline font-medium transition-colors"
          (click)="toggleExpanded()"
          data-testid="see-less-button">
          <i class="fa-light fa-chevron-up mr-1"></i>
          See less
        </button>
      } @else {
        <button
          type="button"
          class="text-sm text-primary hover:text-primary-600 hover:underline font-medium transition-colors"
          (click)="toggleExpanded()"
          data-testid="read-more-button">
          <i class="fa-light fa-chevron-down mr-1"></i>
          Read more
        </button>
      }
    </div>
  }
</div>
