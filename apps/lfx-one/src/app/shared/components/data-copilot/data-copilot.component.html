<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

<!-- Trigger Button -->
@if (isLfxLensEnabled()) {
  <lfx-button
    (onClick)="openDrawer()"
    data-testid="data-copilot-button"
    label="Ask LFX Lens"
    size="small"
    styleClass="px-5 py-2.5 bg-white hover:bg-blue-50 text-blue-500 rounded-full font-medium flex items-center gap-2 border border-blue-500 transition-all">
    <span class="fa-stack" style="font-size: 0.6em; width: 2em; height: 2em; line-height: 2em">
      <i class="fa-light fa-comment fa-stack-2x"></i>
      <!-- <i class="fa-solid fa-sparkle fa-stack-1x text-yellow-400" style="top: -1em; left: 1.25em"></i> -->
    </span>
  </lfx-button>
}

<!-- Drawer -->
<p-drawer
  [visible]="visible()"
  header="Ask LFX Lens"
  position="right"
  styleClass="xl:w-2/5 lg:w-2/3 w-full"
  (onShow)="onShow()"
  (onHide)="onHide()"
  data-testid="data-copilot-drawer">
  <div #iframeContainer class="iframe-container" data-testid="data-copilot-iframe-container"></div>
</p-drawer>
