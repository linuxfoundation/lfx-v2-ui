<!-- Copyright The Linux Foundation and each contributor to LFX. -->
<!-- SPDX-License-Identifier: MIT -->

<!-- Trigger Button -->
@if (isLfxLensEnabled()) {
  <lfx-button
    icon="fa-light fa-microchip-ai"
    (click)="openDrawer()"
    data-testid="data-copilot-button"
    label="Ask LFX Lens"
    size="small"
    styleClass="bg-gradient-to-r from-blue-400 to-purple-500 hover:from-blue-500 hover:to-purple-600 text-white text-sm h-8 border-0 shadow-none"></lfx-button>
}

<!-- Drawer -->
<p-drawer
  [visible]="visible()"
  header="Ask LFX Lens"
  position="right"
  styleClass="xl:w-2/5 lg:w-2/3 w-full"
  (onShow)="onShow()"
  (onHide)="onHide()"
  data-testid="data-copilot-drawer">
  <div #iframeContainer class="iframe-container" data-testid="data-copilot-iframe-container"></div>
</p-drawer>
